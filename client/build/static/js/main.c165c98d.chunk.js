(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,a){e.exports=a(77)},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),l=a.n(o),s=a(9),c=a(1),i=a(18),u=a(40),m=a.n(u),p=a(41),d=a(17),h=a(3),E=a(4),f=a(6),v=a(5),y=a(7),b=a(29),N=a(13),g=a.n(N);function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{type:"GET_NOTES",payload:g.a.get("/api/notes?skip=".concat(t,"&limit=").concat(e,"&order=").concat(a)).then(function(e){return n?[].concat(Object(b.a)(n),Object(b.a)(e.data)):e.data})}}function j(e){return{type:"GET_A_NOTE",payload:g.a.get("/api/getNote?id=".concat(e)).then(function(e){return e.data})}}var _=function(e){return r.a.createElement(s.b,{to:"/notes/".concat(e._id),className:"note_item"},r.a.createElement("div",{className:"note_header"},r.a.createElement("h2",null,e.title)))},w=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).renderItems=function(e){return e.list?e.list.map(function(e){return r.a.createElement(_,Object.assign({key:e._id},e))}):null},a.loadmore=function(){var e=a.props.notes.list.length;a.props.dispatch(O(2,e,"desc",a.props.notes.list))},a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(O(2,0,"desc"))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"All Notes"),this.renderItems(this.props.notes),r.a.createElement("div",{className:"loadmore",onClick:this.loadmore},"Load More"))}}]),t}(r.a.Component);var k=Object(c.b)(function(e){return{notes:e.notes}})(w),T=function(){return r.a.createElement("div",null,r.a.createElement(k,null))},A=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).renderNote=function(e){return e.note?r.a.createElement("div",null,r.a.createElement("h2",null,e.note.title),r.a.createElement("p",null,e.note.body)):null},a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(j(this.props.match.params.id))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_A_NOTE",payload:null})}},{key:"render",value:function(){var e=this.props.notes;return r.a.createElement("div",null,this.renderNote(e))}}]),t}(r.a.Component);var I=Object(c.b)(function(e){return{notes:e.notes}})(A),S=a(19),C=a.n(S),x=a(43),R=a.n(x);var D=Object(c.b)(function(e){return{user:e.user}})(function(e){var t=e.user,a=[{type:"navItem",icon:"home",text:"Home",link:"/",restricted:!0},{type:"navItem",icon:"user",text:"My Profile",link:"/user",restricted:!0},{type:"navItem",icon:"file",text:"Add Note",link:"/user/add",restricted:!0},{type:"navItem",icon:"file",text:"My Note",link:"/user/user-notes",restricted:!0},{type:"navItem",icon:"user-plus",text:"Register",link:"/register",restricted:!1,exclude:!0},{type:"navItem",icon:"sign-in",text:"Login",link:"/login",restricted:!1,exclude:!0},{type:"navItem",icon:"sign-out",text:"Logout",link:"/logout",restricted:!0}],n=function(e,t){return r.a.createElement("div",{key:t,className:e.type},r.a.createElement(s.b,{to:e.link},r.a.createElement(C.a,{name:e.icon}),e.text))};return r.a.createElement("div",null,t.login?a.map(function(e,a){return t.login.isAuth?e.exclude?null:n(e,a):e.restricted?null:n(e,a)}):null)}),L=function(e){return r.a.createElement(R.a,{showNav:e.showNav,onHideNav:e.onHideNav,navStyle:{background:"#242424",maxWidth:"220px"}},r.a.createElement(D,null))},U=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={showNav:!1},a.onHideNav=function(){a.setState({showNav:!1})},a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement("div",{className:"open_nav"},r.a.createElement(C.a,{onClick:function(){return e.setState({showNav:!0})},name:"bars",style:{color:"#ffffff",padding:"10px",cursor:"pointer"}})),r.a.createElement(L,{showNav:this.state.showNav,onHideNav:function(){return e.onHideNav()}}),r.a.createElement(s.b,{to:"/",className:"logo"},"Note App"))}}]),t}(r.a.Component),W=function(e){return r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement("div",null,e.children))},P=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:"",success:!1},a.handleInputEmail=function(e){a.setState({email:e.target.value})},a.handleInputPassword=function(e){a.setState({password:e.target.value})},a.submitForm=function(e){e.preventDefault(),a.props.dispatch(function(e){var t=e.email,a=e.password;return{type:"USER_LOGIN",payload:g.a.post("/api/login",{email:t,password:a}).then(function(e){return e.data})}}(a.state))},a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.user.login.isAuth&&this.props.history.push("/user")}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"rl_container"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Log in here"),r.a.createElement("div",{className:"error"},e.login?r.a.createElement("div",null,e.login.message):null),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"email",value:this.state.email,onChange:this.handleInputEmail,placeholder:"Enter your email"})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"password",value:this.state.password,onChange:this.handleInputPassword,placeholder:"Enter your password"})),r.a.createElement("button",{type:"submit"},"Log in")))}}]),t}(r.a.Component);var F=Object(c.b)(function(e){return{user:e.user}})(P),M=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={firstname:"",lastname:"",email:"",password:"",error:""},a.handleInputFirstname=function(e){a.setState({firstname:e.target.value})},a.handleInputLastName=function(e){a.setState({lastname:e.target.value})},a.handleInputEmail=function(e){a.setState({email:e.target.value})},a.handleInputPassword=function(e){a.setState({password:e.target.value})},a.submitForm=function(e){var t;e.preventDefault(),a.setState({error:""}),a.props.dispatch((t=a.state,{type:"USER_REGISTER",payload:g.a.post("/api/register",t).then(function(e){return e.data})}))},a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.user.register?this.setState({firstname:"",lastname:"",email:"",password:""}):this.setState({error:"Register Failed, Try again!"})}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"rl_container"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Register"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",value:this.state.firstname,onChange:this.handleInputFirstname,placeholder:"Enter your firstname"})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",value:this.state.lastname,onChange:this.handleInputLastName,placeholder:"Enter your lastname"})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"email",value:this.state.email,onChange:this.handleInputEmail,placeholder:"Enter your email"})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"password",value:this.state.password,onChange:this.handleInputPassword,placeholder:"Enter your password"})),r.a.createElement("button",{type:"submit"},"Register"),r.a.createElement("div",{className:"error"},this.state.error)))}}]),t}(n.PureComponent);var G=Object(c.b)(function(e){return{user:e.user}})(M),H=function(e,t){var a=function(a){function n(){var e,t;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(f.a)(this,(e=Object(v.a)(n)).call.apply(e,[this].concat(r)))).state={loading:!0},t}return Object(y.a)(n,a),Object(E.a)(n,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"USER_AUTH",payload:g.a.get("/api/auth").then(function(e){return e.data})})}},{key:"componentWillReceiveProps",value:function(e){this.setState({loading:!1}),e.user.login.isAuth?t||this.props.history.push("/user"):t&&this.props.history.push("/login")}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"loader"},"Loading..."):r.a.createElement(e,Object.assign({},this.props,{user:this.props.user}))}}]),n}(r.a.Component);return Object(c.b)(function(e){return{user:e.user}})(a)},B=function(e){return r.a.createElement("div",{className:"user_container"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:"/images/avatar.png",alt:"avatar"})),r.a.createElement("div",{className:"nfo"},r.a.createElement("div",null,r.a.createElement("span",null,"First Name: "),e.user.login.firstname),r.a.createElement("div",null,r.a.createElement("span",null,"Last Name: "),e.user.login.lastname),r.a.createElement("div",null,r.a.createElement("span",null,"Email: "),e.user.login.email)))},J=a(2),Y=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={formdata:{title:"",body:""}},a.handleInput=function(e,t){var n=Object(J.a)({},a.state.formdata);n[t]=e.target.value,a.setState({formdata:n})},a.showNewNote=function(e){return e.post?r.a.createElement("div",{className:"conf_link"},"Cool !!!"," ",r.a.createElement(s.b,{to:"/notes/".concat(e.noteId)},"Click the link to see the note.")):null},a.submitForm=function(e){var t;e.preventDefault(),a.props.dispatch((t=Object(J.a)({},a.state.formdata,{userId:a.props.user.login.id}),{type:"ADD_NOTE",payload:g.a.post("/api/note",t).then(function(e){return e.data})}))},a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_NEWNOTE",payload:{}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"rl_container article"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Add a Note"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",value:this.state.formdata.title,onChange:function(t){return e.handleInput(t,"title")},placeholder:"Enter title"})),r.a.createElement("div",{className:"form_element"},r.a.createElement("textarea",{value:this.state.formdata.body,onChange:function(t){return e.handleInput(t,"body")},placeholder:"Enter body"})),r.a.createElement("button",{type:"submit"},"Add Note"),this.props.notes.newnote?this.showNewNote(this.props.notes.newnote):null))}}]),t}(n.Component);var q=Object(c.b)(function(e){return{notes:e.notes}})(Y),z=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={formdata:{_id:a.props.match.params.id,title:"",body:""}},a.handleInput=function(e,t){var n=Object(J.a)({},a.state.formdata);n[t]=e.target.value,a.setState({formdata:n})},a.submitForm=function(e){var t;e.preventDefault(),a.props.dispatch((t=a.state.formdata,{type:"UPDATE_NOTE",payload:g.a.post("/api/note_update",t).then(function(e){return e.data})}))},a.deleteThis=function(){var e;a.props.dispatch((e=a.props.match.params.id,{type:"DELETE_NOTE",payload:g.a.delete("/api/delete_note?id=".concat(e)).then(function(e){return e.data})}))},a.redirectUser=function(){setTimeout(function(){a.props.history.push("/user/user-notes")},1e3)},a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(j(this.props.match.params.id))}},{key:"componentWillReceiveProps",value:function(e){var t=e.notes.note;this.setState({formdata:{_id:t._id,title:t.title,body:t.body}})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_DEL_NOTE",payload:{book:{},updateNote:!1,noteDeleted:!1}})}},{key:"render",value:function(){var e=this,t=this.props.notes;return r.a.createElement("div",{className:"rl_container article"},t.updateNote?r.a.createElement("div",{className:"edit_confirm"},"Note Updated,"," ",r.a.createElement(s.b,{to:"/notes/".concat(t.note._id)},"Click to see your Note!")):null,t.noteDeleted?r.a.createElement("div",{className:"red_tag"},"Note Deleted",this.redirectUser()):null,r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Edit Note"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",value:this.state.formdata.title,onChange:function(t){return e.handleInput(t,"title")},placeholder:"Enter title"})),r.a.createElement("div",{className:"form_element"},r.a.createElement("textarea",{value:this.state.formdata.body,onChange:function(t){return e.handleInput(t,"body")},placeholder:"Enter body"})),r.a.createElement("button",{type:"submit",style:{cursor:"pointer"}},"Update Note"),r.a.createElement("div",{className:"delete_note"},r.a.createElement("div",{className:"button",onClick:this.deleteThis,style:{cursor:"pointer"}},"Delete Note"))))}}]),t}(n.PureComponent);var K=Object(c.b)(function(e){return{notes:e.notes}})(z),Q=a(44),V=a.n(Q),X=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).showUserNotes=function(e){return e.usernotes?e.usernotes.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.body),r.a.createElement("td",null,V()(e.createdAt).format("MM/DD/YY at h:mm:ss")),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/user/edit/".concat(e._id),className:"btn"},r.a.createElement(C.a,{name:"pencil",style:{color:"#fff"}}))))}):null},a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){var e;this.props.dispatch((e=this.props.user.login.id,{type:"USER_NOTES",payload:g.a.get("/api/user_notes?user=".concat(e)).then(function(e){return e.data})}))}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"user_notes"},r.a.createElement("h4",null,"My Notes"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Body"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,this.showUserNotes(e))))}}]),t}(n.Component);var Z=Object(c.b)(function(e){return{user:e.user}})(X),$=function(e){return g.a.get("/api/logout").then(function(t){setTimeout(function(){e.history.push("/login")},1e3)}),r.a.createElement("div",{className:"logout_container"},r.a.createElement("h1",null,"Logged out successfully!"))},ee=function(){return r.a.createElement(W,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",exact:!0,component:H(T,!0)}),r.a.createElement(d.a,{path:"/notes/:id",exact:!0,component:H(I,!0)}),r.a.createElement(d.a,{path:"/login",exact:!0,component:H(F,!1)}),r.a.createElement(d.a,{path:"/register",exact:!0,component:H(G,!1)}),r.a.createElement(d.a,{path:"/logout",exact:!0,component:H($,!0)}),r.a.createElement(d.a,{path:"/user",exact:!0,component:H(B,!0)}),r.a.createElement(d.a,{path:"/user/add",exact:!0,component:H(q,!0)}),r.a.createElement(d.a,{path:"/user/user-notes",exact:!0,component:H(Z,!0)}),r.a.createElement(d.a,{path:"/user/edit/:id",exact:!0,component:H(K,!0)})))},te=Object(i.c)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_NOTES":return Object(J.a)({},e,{list:t.payload});case"GET_A_NOTE":case"CLEAR_A_NOTE":return Object(J.a)({},e,{note:t.payload});case"ADD_NOTE":case"CLEAR_NEWNOTE":return Object(J.a)({},e,{newnote:t.payload});case"UPDATE_NOTE":return Object(J.a)({},e,{updateNote:t.payload.success,note:t.payload.doc});case"DELETE_NOTE":return Object(J.a)({},e,{noteDeleted:t.payload});case"CLEAR_DEL_NOTE":return Object(J.a)({},e,{updateNote:t.payload.updateNote,noteDeleted:t.payload.noteDeleted});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":case"USER_AUTH":return Object(J.a)({},e,{login:t.payload});case"USER_NOTES":return Object(J.a)({},e,{usernotes:t.payload});case"USER_REGISTER":return Object(J.a)({},e,{register:t.payload.success,user:t.payload.user});default:return e}}}),ae=Object(i.a)(m.a,p.a)(i.d);l.a.render(r.a.createElement(c.a,{store:ae(te)},r.a.createElement(s.a,null,r.a.createElement(ee,null))),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.c165c98d.chunk.js.map